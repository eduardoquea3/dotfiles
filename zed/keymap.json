// Zed keymap
//
// For information on binding keys, see the Zed
// documentation: https://zed.dev/docs/key-bindings
//
// To see the default key bindings run `zed: open default keymap`
// from the command palette.
[
	{
		"context": "Workspace",
		"bindings": {
			// "shift shift": "file_finder::Toggle"
		}
	},
	{
		"context": "Editor && vim_mode == insert",
		"bindings": {
			// "j k": "vim::NormalBefore"
		}
	},
	{
		"context": "(Editor && mode == full)",
		"bindings": {
			"ctrl-k": null
		}
	},
	{
		"context": "Terminal",
		"bindings": {
			"ctrl-k": null
		}
	},

	{
		"context": "Workspace",

		"bindings": {
			// "shift shift": "file_finder::Toggle"
		}
	},

	{
		"context": "Editor && vim_mode == insert",

		"bindings": {
			// "j k": "vim::NormalBefore"
		}
	},

	{
		"context": "Workspace",

		"bindings": {
			"alt-m": "terminal_panel::Toggle"
		}
	},

	{
		"context": "Editor && vim_mode == normal",

		"bindings": {
			"z c": "editor::Fold",

			"z o": "editor::UnfoldLines"
		}
	},

	{
		"context": "Workspace",

		"bindings": {
			"ctrl-\"": "workspace::NewTerminal"
		}
	},

	{
		"context": "Workspace",

		"bindings": {
			"ctrl-~": null
		}
	},

	{
		"context": "(ProjectPanel && not_editing)",

		"bindings": {
			"a": "project_panel::NewFile"
		}
	},

	{
		"context": "(ProjectPanel && not_editing)",

		"bindings": {
			"%": null
		}
	},

	{
		"context": "(VimControl && !menu)",

		"bindings": {
			"ctrl-b": null
		}
	},

	{
		"context": "vim_mode == literal",

		"bindings": {
			"ctrl-b": null
		}
	},

	{
		"bindings": {
			"ctrl-b": "workspace::ToggleLeftDock"
		}
	},

	{
		"context": "Editor && VimControl && !menu",

		"bindings": {
			"alt-k": "agent::AddSelectionToThread"
		}
	},

	{
		"context": "Workspace",

		"bindings": {
			"alt-a": "agent::ToggleFocus"
		}
	},
	{
		"context": "(Editor && mode == full)",
		"bindings": {
			"ctrl-k": null
		}
	},
	{
		"context": "((VimControl && !menu) || (!Editor && !Terminal))",
		"bindings": {
			"ctrl-k w": "pane::CloseAllItems"
		}
	},
	{
		"context": "Editor",
		"bindings": {
			"alt-s": "editor::Format"
		}
	},
	{
		"context": "Workspace || vim_mode == insert",
		"bindings": {
			"ctrl-s": "workspace::Save"
		}
	},
	{
		"bindings": {
			"ctrl-q": null
		}
	},
	{
		"bindings": {
			"ctrl-alt-i": "workspace::ToggleRightDock"
		}
	},
	{
		"context": "Pane",
		"bindings": {
			"space q": [
				"pane::CloseActiveItem",
				{
					"close_pinned": false
				}
			]
		}
	},
	{
		"context": "vim_mode == insert",
		"bindings": {
			"ctrl-o": null
		}
	},
	{
		"context": "(VimControl && !menu)",
		"bindings": {
			"ctrl-o": null
		}
	},
	{
		"context": "vim_mode == literal",
		"bindings": {
			"ctrl-o": null
		}
	},
	{
		"context": "Terminal",
		"bindings": {
			"ctrl-o": null
		}
	},
	{
		"bindings": {
			"ctrl-o": "workspace::Open"
		}
	},
	{
		"context": "Workspace || Editor",
		"bindings": {
			"ctrl-w": "workspace::CloseActiveDock"
		}
	},
	{
		"context": "Workspace || Editor || AgentPanel",
		"bindings": {
			"ctrl-r": [
				"projects::OpenRecent",
				{
					"create_new_window": false
				}
			]
		}
	},
	{
		"context": "(VimControl && !menu)",
		"bindings": {
			"space": null
		}
	},
	{
		"context": "vim_operator == helix_previous",
		"bindings": {
			"space": null
		}
	},
	{
		"context": "vim_operator == helix_next",
		"bindings": {
			"space": null
		}
	},
	{
		"context": "vim_mode == literal",
		"bindings": {
			"ctrl-l": null
		}
	},
	{
		"context": "((AgentPanel || ContextEditor) || MessageEditor > Editor)",
		"bindings": {
			"ctrl-l": null
		}
	},
	{
		"context": "Workspace",
		"bindings": {
			"ctrl-l": null
		}
	},
	{
		"context": "(Editor && mode == full)",
		"bindings": {
			"ctrl-l": null
		}
	},
 {
  "context": "(CollabPanel && editing) > Editor",
  "bindings": {
   "space": null
  }
 },
 {
  "context": "BreakpointList",
  "bindings": {
   "space": null
  }
 },
 {
  "context": "(GitPanel && ChangesList)",
  "bindings": {
   "space": null
  }
 },
 {
  "context": "(CollabPanel && not_editing)",
  "bindings": {
   "space": null
  }
 },
 {
  "context": "(OutlinePanel && not_editing)",
  "bindings": {
   "space": null
  }
 },
 {
  "context": "(ProjectPanel && not_editing)",
  "bindings": {
   "space": null
  }
 },
 {
  "context": "(ProjectPanel && not_editing)",
  "bindings": {
   "r": "project_panel::Rename"
  }
 },
 {
  "context": "(ProjectPanel && not_editing)",
  "bindings": {
   "shift-d": "project_panel::NewDirectory"
  }
 },
 {
  "context": "(ProjectPanel && not_editing)",
  "bindings": {
   "d": "project_panel::Delete"
  }
 },
 {
  "context": "(VimControl && !menu)",
  "bindings": {
   "g r": "editor::FindAllReferences"
  }
 }
]
